# Item 05. 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라

- 많은 클래스는 하나 이상의 자원에 의존하게 됩니다.
  - 이러한 의존은 클래스를 유연하지 못하게 만들고 테스트하기 어렵게 만듭니다.
  - 이유는 다음과 같습니다.
    - 자원에 의존하기 때문에 해당 자원을 사용하지 않으면 쓸모없는 클래스가 되어버립니다.
    - 적절한 테스트 케이스를 생성하는데 있어 어려움이 존재합니다.
- 클래스의 자원을 다른 자원으로 교체할 수 있도록 메서드를 추가하는 방법도 존재합니다.
  - 어색하고 오류를 일으키기 쉽도록 만듭니다.
  - 멀티 쓰레드 환경에서 사용할 수 없습니다.
- **사용하는 자원에 따라 동작이 달라지는 클래스는 정적 유틸 클래스나 싱글턴 방식이 적합하지 않습니다.**

## 해결

- 인스턴스를 생성할 때 필요한 자원을 넘겨주는 방식으로 위의 문제를 해결할 수 있습니다.
- 불변임을 보장하기에 멀티 쓰레드 환경에서도 객체를 안심하고 공유할 수 있습니다.

## 변형

- 자원이 아닌 자원 팩터리를 넘겨줘서 명시한 타입의 하위 타입이라면 무엇이든 생성할 수 있도록 할 수 있습니다.

## 결론

- 의존 객체 주입은 유연성과 테스트 용이성을 개선해주지만 코드를 어지럽게 만들기도 합니다.
- 의존 객체 주입은 유연성, 재사용성, 테스트 용이성을 개선시켜줍니다.