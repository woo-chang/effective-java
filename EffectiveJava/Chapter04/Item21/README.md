# Item 21. 인터페이스는 구현하는 쪽을 생각해 설계하라

- 인터페이스에 메서드를 추가하면 보통 컴파일 오류가 발생한다. 구현체에 해당 메서드가 구현되어 있을 확률이 매우 낮기 때문이다.
- 자바 8에 와서는 디폴트 메서드가 추가되었지만, 디폴트 메서드는 구현 클래스에 대해 아무것도 모른 채 무작정 삽입될 뿐이다.
  - 모든 상황에서 불변식을 해치지 않는 디폴트 메서드를 작성하는 것은 매우 어려운 일이다.
- `SynchronizedCollection` 클래스는 활발히 관리되고 있지만, 책을 작성하는 시점에 `removeIf` 메서드를 재정의 하고 있지 않다고 한다.
  - 디폴트 메서드를 물려받게 되지만 디폴트 메서드는 락과 관련한 동기화를 알지 못하기에 `ConcurrentModificationException`이 발생한다.
  - 이를 해결하기 위해 디폴트 메서드를 호출하기 전 필요한 작업을 수행하도록 했다. 호출하기 전 동기화를 진행하는 식
- 디폴트 메서드는 컴파일에 성공하더라도 런타임에 오류를 발생시킬 가능성도 존재한다.
  - 따라서 기존 인터페이스에 메서드를 추가하는 일이 꼭 필요한 경우가 아니라면 피해야 한다.
- 핵심은 인터페이스를 설계할 때는 세심한 주의가 필요하다는 점이다.